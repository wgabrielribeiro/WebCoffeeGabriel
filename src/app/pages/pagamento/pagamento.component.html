<body>
  <app-navMenu></app-navMenu>
  <div class="container-fluid page-header mb-5 position-relative overlay-bottom">
    <div class="d-flex flex-column align-items-center justify-content-center pt-0 pt-lg-5" style="min-height: 400px">
      <h1 class="display-4 mb-3 mt-0 mt-lg-5 text-white text-uppercase">Pagamento</h1>
      <div class="d-inline-flex mb-lg-5">
        <p class="m-0 text-white"><a class="text-white" href="" routerLink="/home">Inicio</a></p>
        <p class="m-0 text-white px-2">/</p>
        <p class="m-0 text-white">Pagamento</p>
      </div>
    </div>
  </div>

  <div class="d-flex flex-column wrapper">
      <main class="flex-fill" [formGroup]="formPagamento">
          <div class="container">
              <h1>Selecione a Forma de Pagamento</h1>
              <h3 class="mb-4">
                  Selecione a forma de pagamento e clique em <b>Continuar</b> para prosseguir para <b>concluir o
                      pedido</b>.
              </h3>
              <div class="d-flex justify-content-between flex-wrap border rounded-top pt-4 px-3">

                  <div class="mb-4 mx-2 flex-even" >
                      <input type="radio" class="btn-check" name="pagamento" autocomplete="off" id="pag1" (click)="fnValidacoes(true)">
                      <label class="btn btn-outline-secondary p-4 h-100 w-100" for="pag1">
                          <h3>
                              <b class="text-dark">Cartão de Crédito</b>
                          </h3>
                          <hr>
                          <form action="">
                              <div class="form-floating mb-3">
                                  <input type="text" id="txtNome" class="form-control" placeholder=" " autofocus formControlName="nmCartao">
                                  <label for="txtNome" class="text-black-50">Nome Impresso no Cartão</label>
                              </div>

                              <div class="form-floating mb-3">
                                  <input type="text" id="txtNumero" class="form-control" placeholder=" " formControlName="numeroCartao">
                                  <label for="txtNumero" class="text-black-50">Número do Cartão</label>
                              </div>

                              <div class="form-floating mb-3">
                                  <input type="text" id="txtValidade" class="form-control" placeholder=" " formControlName="validade">
                                  <label for="txtValidade" class="text-black-50">Validade (mm/aa)</label>
                              </div>

                              <div class="form-floating mb-3">
                                  <input type="text" id="txtCodigo" class="form-control" placeholder=" " formControlName="cvv">
                                  <label for="txtCodigo" class="text-black-50">Código de Segurança</label>
                              </div>

                              <div class="form-floating">
                                  <select id="selParcelas" class="form-select" formControlName="parcelamento">
                                      <option value="1" selected ngDefaultControl>À vista</option>
                                      <option value="2">2 x sem juros</option>
                                      <option value="3">3 x sem juros</option>
                                      <option value="4">4 x sem juros</option>
                                      <option value="5">5 x sem juros</option>
                                      <option value="6">6 x sem juros</option>
                                  </select>
                                  <label for="selParcelas" class="text-black-50">Parcelamento</label>
                              </div>
                          </form>

                      </label>
                  </div>

                  <h1 class="flex-even text-danger" *ngIf="!formPagamento.valid">
                    Preencha os dados da opção selecionada!
                  </h1>

                  <div class="mb-4 mx-2 flex-even">
                      <input type="radio" class="btn-check" name="pagamento" autocomplete="off" id="pag2" (click)="fnValidacoes(false)" formControlName="isDinheiro">
                      <label class="btn btn-outline-secondary p-4 h-100 w-100" for="pag2">
                          <h3>
                              <b class="text-dark">Dinheiro</b>
                          </h3>
                          <hr>
                          <form action="" class="text-dark">
                              <h4 class="text-dark">Valor da Compra: <b>R$ {{calculo}},00</b></h4>
                              <br>
                              <p>
                                  Se precisar de troco, informe no campo abaixo.
                              </p>
                              <div class="form-floating mb-3">
                                  <input type="text" id="txtTroco" class="form-control" placeholder=" " formControlName="qntTroco">
                                  <label for="txtTroco" class="text-black-50">Precisa de troco para quanto?</label>
                              </div>
                          </form>
                      </label>
                  </div>
              </div>

              <div class="text-end border border-top-0 rounded-bottom p-4 pb-0">
                  <a routerLink="/carrinho" class="btn btn-outline-dark btn-lg mb-4">
                      Voltar ao carrinho
                  </a>
                  <button routerLink="/fechamento" class="btn btn-primary btn-lg text-white ms-2 mb-4"
                  [disabled]="!formPagamento.valid" (click)="fnEnviar()">Finalizar</button>
              </div>
          </div>
      </main>
  </div>
  <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

  <app-footer></app-footer>
</body>
